# Draft

## 模型准备

我们做出了以下假设来帮助我们建模

- 假设数据准确, 我们没有伪造数据
- 假设两种投资产品的价值不受外界主观因素影响
- 假设16年之前没有任何历史数据
- 假设两种投资产品符合普遍投资规律，即公式系数来自经验规律

## 符号

## task1

### 数据预处理

对于给定的数据，由于有特定黄金的交易日(即工作日), 比特币每天都可交易，同时黄金的价格在休息日不会发生变化，为了方便表示，我们将量表进行合并。同时将休息日的黄金价格用过去最近的交易日价格填补。

为了更好的量化交易策略，模型需要额外添加几项指标：'单日涨幅',投资风险'，历史分位点，MACD指标

单日涨幅公式:(present - prev) / prev

历史分位点是为了显示当前估值在所有估值历史的位置，能够展示当前是高估状态还是低估状态。

估值分位点计算算法：

step 1:将当天价格和过去n天价格进行排位并去除重复项，的到排名q，

step 2: 用计算公式：quantile = (q - 1) * 100%/ (n - 1) 

整体上，分位点越低， 估值越低；分位点越高，估值越高

MACD指标(平滑移动平均线)，是从双指数移动平均线变换得出；

MACD的意义和双移动平均线基本相同，即由快、慢均线的离散、聚合表征当前的多空状态和股价可能的发展变化趋势；当MACD从负数转向正数，是买的信号。当MACD从正数转向负数，是卖的信号。当MACD以大角度变化，表示快的移动平均线和慢的移动平均线的差距非常迅速的拉开，代表了一个市场大趋势的转变。

MACD指标的计算方法：

由快的指数移动平均线(EMA(n1)),减去慢的指数移动平均线（EMA(n2)）得到快线DIF；再用DIF的9日指数平滑移动得到慢线DEA；再用2×（快线DIF-加权移动均线DEA）得到MACD柱。即MACD:(DIF-DEA)*2;

step 1:EMA初始化：通常情况下，EMA1是没有定义的，通常情况下取EMA1为Price1，即数据的第一项填充为EMA的第一项。

step 2: 
EMAtoday = α * Pricetoday + ( 1 - α ) * EMAyesterday；



step 3: DIF = EMA(n1)-EMA(n2);

step 4: DEA=（前一日DEA X a+今日DIF X a）;

step 5: MACD=（DIF-DEA）*2;

α为平滑指数，一般取作2/(N+1)。在计算本数据的MACD指标时，EMA计算中，经过我们的调查，我们选取12和26天，即 n1=12, n2=26

### 模型总览
